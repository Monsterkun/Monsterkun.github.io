---
layout: post
title: 命令执行
date: 2019-5-31
tag: 命令执行

---

# 命令执行漏洞  
## 1、OS命令执行漏洞示例

ping www.baidu.com&&net user  
* 在Windows系统下，“&&”的作用是将两条命令连接起来  
* 在Linux上，也同样适用  

  
## 2、命令执行模型
* PHP命令执行  
1、 命令执行：  
直接执行了命令  
2、代码执行：  
有eval（）函数、还有assert（）函数，不过assert（）函数在php7以上不适合用了  
3、动态函数调用：  
输入函数名，方便调用，这个情况可以用变量覆盖来调用出命令执行  
4、PHP函数代码执行漏洞  
这个关于php的危险函数，自行了解php常见危险函数


* JAVA命令执行  
经典有struts2框架命令执行


## 3、框架执行漏洞  
Java的三大框架：Hibernate、Spring、struts 

* struts2代码执行漏洞  
1、struts爆出过的漏洞,到官方网站：http://struts.apache.org  
2、常见利用这框架的漏洞，目前就使用工具


* ThinkPHP命令执行
 


# 防范命令执行漏洞  
* 尽量不要使用系统命令
* 在进入执行命令函数/方法之前，变量一定要进行好过滤，对敏感字符进行转义
* 在使用动态函数之前，确保使用的函数是指定的函数之一
* 对PHP语言来说，不能完全控制的危险函数不要使用  

# 总结
* 只有输入可控，就有可能存在漏洞。有输入的地方就有可能存在漏洞
